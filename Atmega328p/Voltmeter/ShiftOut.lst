GAS LISTING /tmp/cckMjuJT.s 			page 1


   1               		.file	"ShiftOut.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.stabs	"/home/edward/Microcontroller/Atmega328p/Voltmeter/",100,0,2,.Ltext0
   8               		.stabs	"ShiftOut.c",100,0,2,.Ltext0
   9               		.text
  10               	.Ltext0:
  11               		.stabs	"gcc2_compiled.",60,0,0,0
  12               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  13               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,0,0
  14               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  15               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  16               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  17               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,0,
  18               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,0,0
  19               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,0,0
  20               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,0,0
  21               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,0,0
  22               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,0,0
  23               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,0,0
  24               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,0,0
  25               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,0,0
  26               		.stabs	"short _Fract:t(0,15)=r(0,1);1;0;",128,0,0,0
  27               		.stabs	"long _Fract:t(0,16)=r(0,1);4;0;",128,0,0,0
  28               		.stabs	"long long _Fract:t(0,17)=r(0,1);8;0;",128,0,0,0
  29               		.stabs	"unsigned short _Fract:t(0,18)=r(0,1);1;0;",128,0,0,0
  30               		.stabs	"unsigned _Fract:t(0,19)=r(0,1);2;0;",128,0,0,0
  31               		.stabs	"unsigned long _Fract:t(0,20)=r(0,1);4;0;",128,0,0,0
  32               		.stabs	"unsigned long long _Fract:t(0,21)=r(0,1);8;0;",128,0,0,0
  33               		.stabs	"_Sat short _Fract:t(0,22)=r(0,1);1;0;",128,0,0,0
  34               		.stabs	"_Sat _Fract:t(0,23)=r(0,1);2;0;",128,0,0,0
  35               		.stabs	"_Sat long _Fract:t(0,24)=r(0,1);4;0;",128,0,0,0
  36               		.stabs	"_Sat long long _Fract:t(0,25)=r(0,1);8;0;",128,0,0,0
  37               		.stabs	"_Sat unsigned short _Fract:t(0,26)=r(0,1);1;0;",128,0,0,0
  38               		.stabs	"_Sat unsigned _Fract:t(0,27)=r(0,1);2;0;",128,0,0,0
  39               		.stabs	"_Sat unsigned long _Fract:t(0,28)=r(0,1);4;0;",128,0,0,0
  40               		.stabs	"_Sat unsigned long long _Fract:t(0,29)=r(0,1);8;0;",128,0,0,0
  41               		.stabs	"short _Accum:t(0,30)=r(0,1);2;0;",128,0,0,0
  42               		.stabs	"long _Accum:t(0,31)=r(0,1);8;0;",128,0,0,0
  43               		.stabs	"long long _Accum:t(0,32)=r(0,1);8;0;",128,0,0,0
  44               		.stabs	"unsigned short _Accum:t(0,33)=r(0,1);2;0;",128,0,0,0
  45               		.stabs	"unsigned _Accum:t(0,34)=r(0,1);4;0;",128,0,0,0
  46               		.stabs	"unsigned long _Accum:t(0,35)=r(0,1);8;0;",128,0,0,0
  47               		.stabs	"unsigned long long _Accum:t(0,36)=r(0,1);8;0;",128,0,0,0
  48               		.stabs	"_Sat short _Accum:t(0,37)=r(0,1);2;0;",128,0,0,0
  49               		.stabs	"_Sat _Accum:t(0,38)=r(0,1);4;0;",128,0,0,0
  50               		.stabs	"_Sat long _Accum:t(0,39)=r(0,1);8;0;",128,0,0,0
  51               		.stabs	"_Sat long long _Accum:t(0,40)=r(0,1);8;0;",128,0,0,0
  52               		.stabs	"_Sat unsigned short _Accum:t(0,41)=r(0,1);2;0;",128,0,0,0
  53               		.stabs	"_Sat unsigned _Accum:t(0,42)=r(0,1);4;0;",128,0,0,0
  54               		.stabs	"_Sat unsigned long _Accum:t(0,43)=r(0,1);8;0;",128,0,0,0
  55               		.stabs	"_Sat unsigned long long _Accum:t(0,44)=r(0,1);8;0;",128,0,0,0
  56               		.stabs	"void:t(0,45)=(0,45)",128,0,0,0
  57               		.stabs	"/usr/lib/avr/include/avr/pgmspace.h",130,0,0,0
GAS LISTING /tmp/cckMjuJT.s 			page 2


  58               		.stabs	"/usr/lib/avr/include/inttypes.h",130,0,0,0
  59               		.stabs	"/usr/lib/gcc/avr/4.8.2/include/stdint.h",130,0,0,0
  60               		.stabs	"/usr/lib/avr/include/stdint.h",130,0,0,0
  61               		.stabs	"int8_t:t(4,1)=(0,10)",128,0,121,0
  62               		.stabs	"uint8_t:t(4,2)=(0,11)",128,0,122,0
  63               		.stabs	"int16_t:t(4,3)=(0,1)",128,0,123,0
  64               		.stabs	"uint16_t:t(4,4)=(0,4)",128,0,124,0
  65               		.stabs	"int32_t:t(4,5)=(0,3)",128,0,125,0
  66               		.stabs	"uint32_t:t(4,6)=(0,5)",128,0,126,0
  67               		.stabs	"int64_t:t(4,7)=(0,6)",128,0,128,0
  68               		.stabs	"uint64_t:t(4,8)=(0,7)",128,0,129,0
  69               		.stabs	"intptr_t:t(4,9)=(4,3)",128,0,142,0
  70               		.stabs	"uintptr_t:t(4,10)=(4,4)",128,0,147,0
  71               		.stabs	"int_least8_t:t(4,11)=(4,1)",128,0,159,0
  72               		.stabs	"uint_least8_t:t(4,12)=(4,2)",128,0,164,0
  73               		.stabs	"int_least16_t:t(4,13)=(4,3)",128,0,169,0
  74               		.stabs	"uint_least16_t:t(4,14)=(4,4)",128,0,174,0
  75               		.stabs	"int_least32_t:t(4,15)=(4,5)",128,0,179,0
  76               		.stabs	"uint_least32_t:t(4,16)=(4,6)",128,0,184,0
  77               		.stabs	"int_least64_t:t(4,17)=(4,7)",128,0,192,0
  78               		.stabs	"uint_least64_t:t(4,18)=(4,8)",128,0,199,0
  79               		.stabs	"int_fast8_t:t(4,19)=(4,1)",128,0,213,0
  80               		.stabs	"uint_fast8_t:t(4,20)=(4,2)",128,0,218,0
  81               		.stabs	"int_fast16_t:t(4,21)=(4,3)",128,0,223,0
  82               		.stabs	"uint_fast16_t:t(4,22)=(4,4)",128,0,228,0
  83               		.stabs	"int_fast32_t:t(4,23)=(4,5)",128,0,233,0
  84               		.stabs	"uint_fast32_t:t(4,24)=(4,6)",128,0,238,0
  85               		.stabs	"int_fast64_t:t(4,25)=(4,7)",128,0,246,0
  86               		.stabs	"uint_fast64_t:t(4,26)=(4,8)",128,0,253,0
  87               		.stabs	"intmax_t:t(4,27)=(4,7)",128,0,273,0
  88               		.stabs	"uintmax_t:t(4,28)=(4,8)",128,0,278,0
  89               		.stabn	162,0,0,0
  90               		.stabn	162,0,0,0
  91               		.stabs	"int_farptr_t:t(2,1)=(4,5)",128,0,77,0
  92               		.stabs	"uint_farptr_t:t(2,2)=(4,6)",128,0,81,0
  93               		.stabn	162,0,0,0
  94               		.stabs	"/usr/lib/gcc/avr/4.8.2/include/stddef.h",130,0,0,0
  95               		.stabs	"size_t:t(5,1)=(0,4)",128,0,212,0
  96               		.stabn	162,0,0,0
  97               		.stabs	"/usr/lib/avr/include/avr/io.h",130,0,0,0
  98               		.stabs	"/usr/lib/avr/include/avr/fuse.h",130,0,0,0
  99               		.stabs	"__fuse_t:t(7,1)=(7,2)=s3low:(0,11),0,8;high:(0,11),8,8;extended:(0,11),16,8;;",128,0,244,0
 100               		.stabn	162,0,0,0
 101               		.stabn	162,0,0,0
 102               		.stabn	162,0,0,0
 103               		.stabs	"/usr/lib/avr/include/stdio.h",130,0,0,0
 104               		.stabs	"/usr/lib/gcc/avr/4.8.2/include/stdarg.h",130,0,0,0
 105               		.stabs	"__gnuc_va_list:t(9,1)=(9,2)=*(0,45)",128,0,40,0
 106               		.stabs	"va_list:t(9,3)=(9,1)",128,0,98,0
 107               		.stabn	162,0,0,0
 108               		.stabs	"__file:T(8,1)=s14buf:(8,2)=*(0,2),0,16;unget:(0,11),16,8;flags:(4,2),24,8;size:(0,1),32,16
 109               		.stabn	162,0,0,0
 110               		.stabs	"ShiftOut:F(0,45)",36,0,11,ShiftOut
 111               		.stabs	"data:P(0,1)",64,0,11,20
 112               	.global	ShiftOut
 113               		.type	ShiftOut, @function
 114               	ShiftOut:
GAS LISTING /tmp/cckMjuJT.s 			page 3


 115               		.stabd	46,0,0
   1:ShiftOut.c    **** 
   2:ShiftOut.c    **** #include <avr/pgmspace.h>
   3:ShiftOut.c    **** #include <stdio.h>
   4:ShiftOut.c    **** #include <avr/io.h>
   5:ShiftOut.c    **** 
   6:ShiftOut.c    **** #include "ShiftOut.h"
   7:ShiftOut.c    **** //int main(void){
   8:ShiftOut.c    **** //}
   9:ShiftOut.c    **** 
  10:ShiftOut.c    **** 
  11:ShiftOut.c    **** void ShiftOut(int SRCLK_Pin, int SER_Pin, int data){
 116               		.stabn	68,0,11,.LM0-.LFBB1
 117               	.LM0:
 118               	.LFBB1:
 119               	/* prologue: function */
 120               	/* frame size = 0 */
 121               	/* stack size = 0 */
 122               	.L__stack_usage = 0
 123               	.LBB2:
  12:ShiftOut.c    ****         //PORTD &= ~(1 << RCLK_Pin); This is the Latch Pin                              // Set the 
  13:ShiftOut.c    **** 
  14:ShiftOut.c    ****         for (int i = 0; i < (8); i++){     // Now we are entering the loop to shift out 8+ bits
  15:ShiftOut.c    **** 
  16:ShiftOut.c    ****                 PORTD &= ~(1 << SRCLK_Pin);                     // Set the serial-clock pin low
 124               		.stabn	68,0,16,.LM1-.LFBB1
 125               	.LM1:
 126 0000 21E0      		ldi r18,lo8(1)
 127 0002 30E0      		ldi r19,0
 128 0004 00C0      		rjmp 2f
 129               		1:
 130 0006 220F      		lsl r18
 131               		2:
 132 0008 8A95      		dec r24
 133 000a 02F4      		brpl 1b
 134 000c B22F      		mov r27,r18
 135 000e B095      		com r27
  17:ShiftOut.c    **** 
  18:ShiftOut.c    ****                 PORTD |= (((data&(0x01<<i))>>i) << SER_Pin );   // Go through each bit of data and 
  19:ShiftOut.c    **** 
  20:ShiftOut.c    ****                 PORTD |= (1 << SRCLK_Pin);                      // Set the serial-clock pin high
 136               		.stabn	68,0,20,.LM2-.LFBB1
 137               	.LM2:
 138 0010 A22F      		mov r26,r18
  14:ShiftOut.c    ****         for (int i = 0; i < (8); i++){     // Now we are entering the loop to shift out 8+ bits
 139               		.stabn	68,0,14,.LM3-.LFBB1
 140               	.LM3:
 141 0012 E0E0      		ldi r30,0
 142 0014 F0E0      		ldi r31,0
  18:ShiftOut.c    ****                 PORTD |= (((data&(0x01<<i))>>i) << SER_Pin );   // Go through each bit of data and 
 143               		.stabn	68,0,18,.LM4-.LFBB1
 144               	.LM4:
 145 0016 81E0      		ldi r24,lo8(1)
 146 0018 90E0      		ldi r25,0
 147               	.L3:
  16:ShiftOut.c    ****                 PORTD &= ~(1 << SRCLK_Pin);                     // Set the serial-clock pin low
 148               		.stabn	68,0,16,.LM5-.LFBB1
GAS LISTING /tmp/cckMjuJT.s 			page 4


 149               	.LM5:
 150 001a 3BB1      		in r19,0xb
 151 001c 3B23      		and r19,r27
 152 001e 3BB9      		out 0xb,r19
  18:ShiftOut.c    ****                 PORTD |= (((data&(0x01<<i))>>i) << SER_Pin );   // Go through each bit of data and 
 153               		.stabn	68,0,18,.LM6-.LFBB1
 154               	.LM6:
 155 0020 7BB1      		in r23,0xb
 156 0022 9C01      		movw r18,r24
 157 0024 0E2E      		mov r0,r30
 158 0026 00C0      		rjmp 2f
 159               		1:
 160 0028 220F      		lsl r18
 161 002a 331F      		rol r19
 162               		2:
 163 002c 0A94      		dec r0
 164 002e 02F4      		brpl 1b
 165 0030 2423      		and r18,r20
 166 0032 3523      		and r19,r21
 167 0034 0E2E      		mov r0,r30
 168 0036 00C0      		rjmp 2f
 169               		1:
 170 0038 3595      		asr r19
 171 003a 2795      		ror r18
 172               		2:
 173 003c 0A94      		dec r0
 174 003e 02F4      		brpl 1b
 175 0040 062E      		mov r0,r22
 176 0042 00C0      		rjmp 2f
 177               		1:
 178 0044 220F      		lsl r18
 179               		2:
 180 0046 0A94      		dec r0
 181 0048 02F4      		brpl 1b
 182 004a 722B      		or r23,r18
 183 004c 7BB9      		out 0xb,r23
 184               		.stabn	68,0,20,.LM7-.LFBB1
 185               	.LM7:
 186 004e 3BB1      		in r19,0xb
 187 0050 3A2B      		or r19,r26
 188 0052 3BB9      		out 0xb,r19
  21:ShiftOut.c    **** 
  22:ShiftOut.c    ****                 PORTD &= ~(((data&(0x01<<i))>>i) << SER_Pin );  // Set the datapin low again    
 189               		.stabn	68,0,22,.LM8-.LFBB1
 190               	.LM8:
 191 0054 3BB1      		in r19,0xb
 192 0056 2095      		com r18
 193 0058 2323      		and r18,r19
 194 005a 2BB9      		out 0xb,r18
  14:ShiftOut.c    ****         for (int i = 0; i < (8); i++){     // Now we are entering the loop to shift out 8+ bits
 195               		.stabn	68,0,14,.LM9-.LFBB1
 196               	.LM9:
 197 005c 3196      		adiw r30,1
 198 005e E830      		cpi r30,8
 199 0060 F105      		cpc r31,__zero_reg__
 200 0062 01F4      		brne .L3
 201               	/* epilogue start */
GAS LISTING /tmp/cckMjuJT.s 			page 5


 202               	.LBE2:
  23:ShiftOut.c    ****         }
  24:ShiftOut.c    **** 
  25:ShiftOut.c    ****         //PORTD |= (1 << RCLK_Pin);                               // Set the register-clock pin hig
  26:ShiftOut.c    **** 
  27:ShiftOut.c    **** }
 203               		.stabn	68,0,27,.LM10-.LFBB1
 204               	.LM10:
 205 0064 0895      		ret
 206               		.size	ShiftOut, .-ShiftOut
 207               		.stabs	"i:r(0,1)",64,0,14,30
 208               		.stabn	192,0,0,.LBB2-.LFBB1
 209               		.stabn	224,0,0,.LBE2-.LFBB1
 210               	.Lscope1:
 211               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 212               		.stabd	78,0,0
 213               		.stabs	"",100,0,0,.Letext0
 214               	.Letext0:
 215               		.ident	"GCC: (GNU) 4.8.2"
GAS LISTING /tmp/cckMjuJT.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ShiftOut.c
     /tmp/cckMjuJT.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/cckMjuJT.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/cckMjuJT.s:4      *ABS*:000000000000003f __SREG__
     /tmp/cckMjuJT.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/cckMjuJT.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/cckMjuJT.s:114    .text:0000000000000000 ShiftOut

NO UNDEFINED SYMBOLS
